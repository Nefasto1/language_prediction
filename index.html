<!DOCTYPE html>
<html>
    <head>
        <title>Language Prediction</title>
    </head>

    <body>
        <h1>Language Prediction</h1>
        <form id="form">
            <label for="text">String</label>
            <input type="text" id="text" name="text" required>

            <button type="button" id="button">Detect</button>
        </form>

        <div id="language"></div>

        <script>
            document.getElementById("button").addEventListener("click", function() {
                text = document.getElementById("text");

                const data = {
                    text
                };

                console.log(data);

                fetch("https://language-prediction-vx2j.onrender.com/predict", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(data)
                })
                .then(response => response.json())
                .then(response => {
                      console.log(response);
                      const result = document.getElementById("language");
                      result.innerHTML = "Language: " + response["text_language"];
                    })
                .catch(error => {
                      console.log(error);
                      const result = document.getElementById("language");
                      result.innerHTML = "error";
                    })
            })
        </script>

    </body>

</html>